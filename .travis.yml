language: php
php:
- 7.4.1
cache:
  directories:
  - "$HOME/.composer/cache"
jobs:
  fast_finish: true
before_script:
- composer install
script:
- php vendor/bin/phplint
- php vendor/bin/phpspec run
- php vendor/bin/phpunit --prepend "./tests/unit/xdebug-filter.php"
- php vendor/bin/infection --debug -j2 --filter=application/app --coverage=build/coverage/phpunit/
  --min-covered-msi=94 --min-msi=94 --test-framework=phpunit
- php vendor/bin/phpcs --runtime-set ignore_warnings_on_exit true --cache -p application
  tests
after_success:
  - travis_retry bash <(curl -s https://codecov.io/bash)
  - travis_retry php vendor/bin/php-coveralls
env:
  global:
  - secure: sON0XTIEjpZYSZK75EED/TzcR93SbsKEsGCmFo8OFPvMcr06fZ2FKAPMwmnSLSr1fRoEu63xXnzf08YFxBax6O2kvglB/lnFwv817ZXzxdHWozRqZ5oeHcNSq9JHoAMNmjgpNq7IQmfPTByMch3RVJCidBsPCYiOw4M3ecIIrxOqBZ3AFUYRWhnYBVkhe5yKo+8Etv6gSpxGsj3+cjRChSv+2ccx30M4W4F+XlBN8/5EGkvvr1s4oQumVltcBM9PulxaiGVvt4aEoFF02pWTKQmgQf57m2wxx27VQB6YDkREPkFW26em6soWfnBXPqATLkSwnhV4YVKlYn9c3w7AjxKvYxZhxNM3Ej2h4I9BijK0CdLziJ7S634AaQzIZU7Dmk+V/1jdKw1jHEH5wpJGt1JMoMB2HjdTXe8yBWuhaoDCXGkP2CcfxEgkgI2/Vuo5BJvN/m25dh+Mw8HisaFzmcQUevp7zSu/cB3EQNAamEfotPYuHismEnDYcUnmcbycRxkMDFKE0DfXoROkY2z5ZW3wi+XVgUQ4Jow8VYZW0t57KbxlvCwgVdF5NMFxQNGXGvLFCsSizjRJChGv6eJJ3jaWhHDxnRBJWgPcpEsprhtGWkdayxnrCYhryTdrpZ0PS92ha854i8HHxY1TiPjdxJGjxAeN0llDQTKCyyQxvv8=
  - secure: ZDPWiprlCII1swFbT8ZUSO+gPHvBQYoEl8FrPJ4hM/4GKNc4ev7cMjWNa4HNNBwsIpEJGBiJWB45j5WrCuZbArekKlIY3ZoSyMY4/P9klO8LhFBoVSQDKkDzoRb3yRxA54bPc/0o+ZpOIX6DRlLy9xOgKOGDVnkLNHW10j3YHfdKlafe0Ou1Peo2SA0hkvPdUDnXowJEZDtmrx/QZLb8uROTJN/PWx72mDHbNyuzb1KnTs2WBd6cBZXHiXKfe9y3hPtbRPhkjH/KAv/wpWLuWXB16sGaJzHUdqoIa4rnNqKv8lJI672DnGVQBO8CJWotk2YxfkEZHQAxGdCa6DJ5EhwokZFrYdbtiTUzrBbJGZXaFNtkWKmMgbMxFYVAfHEjUgvmmzlvjkySZJlmr7Mlue7PNIeUc4WFWEMKLl+/RaaHHXkmR76YJKtO06rcBU+NOfFKIEgQywMrrvXZLYmcqhh31jzB0v2GEgNoq+WXirY8Mg0eSTBVECMeV7IkbcpXx6tJmRP8fWV0qyP6S2k/xdheTAHIbJp7d4V9Kf+/jZkmEpc1yvjxQtHd/CZuYqSaxw0un5OZZkgjRFCoZKk6BFCmkzbzol+6i0hIEvr88OutoWUlrJh+Jnig1uPYfA/vuM7zlvpGelpCzadh+L127xVpVjY0i0gq+jTY/x8D44s=
